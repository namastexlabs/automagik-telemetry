# Automagik Telemetry Configuration
# Copy this file to your project's root and customize as needed

# ===================================
# Telemetry Enable/Disable
# ===================================

# Enable or disable telemetry (default: false - opt-in only)
# Set to "true" to enable anonymous usage data collection
AUTOMAGIK_TELEMETRY_ENABLED=false

# ===================================
# Backend Configuration
# ===================================

# Backend type: "otlp" (OpenTelemetry) or "clickhouse" (direct)
# - otlp: Uses OpenTelemetry Collector (more features, complex setup)
# - clickhouse: Direct to ClickHouse (simpler, faster for self-hosting)
AUTOMAGIK_TELEMETRY_BACKEND=otlp

# ===================================
# OTLP Backend (OpenTelemetry Collector)
# ===================================

# Default endpoint (uses namastex.ai hosted service)
AUTOMAGIK_TELEMETRY_ENDPOINT=https://telemetry.namastex.ai/v1/traces

# Optional: Separate metrics endpoint (auto-derived if not specified)
# Use this to route metrics to a different backend (e.g., Prometheus)
# AUTOMAGIK_TELEMETRY_METRICS_ENDPOINT=https://prometheus.example.com/v1/metrics

# Optional: Separate logs endpoint (auto-derived if not specified)
# Use this to route logs to a different backend (e.g., Loki)
# AUTOMAGIK_TELEMETRY_LOGS_ENDPOINT=https://loki.example.com/v1/logs

# Request timeout:
# - Python: value in seconds (e.g., 5 = 5 seconds)
# - TypeScript: value in milliseconds (e.g., 5000 = 5 seconds)
AUTOMAGIK_TELEMETRY_TIMEOUT=5

# Self-hosted OTLP options (uncomment to use your own infrastructure)
# AUTOMAGIK_TELEMETRY_ENDPOINT=http://localhost:4318/v1/traces
# AUTOMAGIK_TELEMETRY_ENDPOINT=http://your-server:4318/v1/traces
# AUTOMAGIK_TELEMETRY_TIMEOUT=10

# ===================================
# ClickHouse Backend (Direct)
# ===================================

# ClickHouse HTTP endpoint (default port: 8123)
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_ENDPOINT=http://localhost:8123

# Production example with HTTPS
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_ENDPOINT=https://clickhouse.prod.example.com:8443

# Database name (default: telemetry)
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_DATABASE=telemetry

# Table names (defaults: traces, metrics, logs)
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_TABLE=traces
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_METRICS_TABLE=metrics
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_LOGS_TABLE=logs

# Authentication credentials
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_USERNAME=default
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_PASSWORD=

# Production example with credentials
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_USERNAME=telemetry_writer
# AUTOMAGIK_TELEMETRY_CLICKHOUSE_PASSWORD=your_secure_password_here

# ===================================
# Debugging
# ===================================

# Verbose mode - print all telemetry events to console before sending
# Useful for debugging and verifying what data is being collected
AUTOMAGIK_TELEMETRY_VERBOSE=false

# ===================================
# Privacy Controls
# ===================================

# Alternative: Create a permanent opt-out file instead
# touch ~/.automagik-no-telemetry

# Environment-based auto-disable (telemetry auto-disables in these):
# - CI=true (CI environments)
# - GITHUB_ACTIONS=true
# - ENVIRONMENT=dev|development|test|testing

# ===================================
# What We Collect (if enabled)
# ===================================

# ✅ Safe to collect:
# - Feature usage (which commands/APIs are used)
# - Error rates (anonymous error codes)
# - Performance metrics (latency, response times)
# - System info (OS, Python/Node version)

# ❌ Never collected:
# - Message content
# - Credentials or API keys
# - Phone numbers or emails (unless hashed)
# - Personal identifiable information

# ===================================
# Learn More
# ===================================

# Privacy Policy: https://github.com/namastexlabs/automagik-telemetry/blob/main/docs/USER_GUIDES/PRIVACY.md
# Self-Hosting: https://github.com/namastexlabs/automagik-telemetry/blob/main/docs/SELF_HOSTING.md
# Source Code: https://github.com/namastexlabs/automagik-telemetry
